{% load static %}
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>RSMM Score Analyzer</title>
    <style>
      * {
        box-sizing: border-box;
      }
      body {
        margin: 0;
        font-family: Arial, sans-serif;
        background-color: #f4f4f4;
      }

      .container {
        display: flex;
        height: 100vh;
      }

      .sidebar {
        width: 220px;
        background-color: #2c3e50;
        color: white;
        padding: 20px;
      }

      .sidebar h2 {
        color: #ecf0f1;
        font-size: 20px;
        margin-bottom: 20px;
      }

      .sidebar a {
        display: block;
        color: #ecf0f1;
        text-decoration: none;
        margin: 10px 0;
        padding: 8px;
        border-radius: 5px;
      }

      .sidebar a:hover {
        background-color: #34495e;
      }

      .main-content {
        flex: 1;
        padding: 40px;
        background-color: #fff;
        overflow-y: auto;
      }

      h1 {
        margin-top: 0;
      }

      input[type="text"] {
        width: 100%;
        max-width: 400px;
        padding: 10px;
        margin-bottom: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
      }

      button {
        background-color: #2980b9;
        color: white;
        border: none;
        padding: 10px 16px;
        border-radius: 4px;
        cursor: pointer;
      }

      button:hover {
        background-color: #3498db;
      }

      .rsmm-image {
        margin: 30px 0;
        text-align: center;
      }

      .rsmm-image img {
        width: 80%;
        max-width: 500px;
        border-radius: 8px;
        border: 1px solid #ccc;
      }

      .rsmm-image button {
        margin-top: 15px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Sidebar -->

      <div class="sidebar">
        <h2>RSMM</h2>
        <a href="#">Home</a>
        <a href="#">Contact</a>
        <a href="#">More Details</a>
      </div>

      <!-- Main Content -->
      <div class="main-content">
        <h1>
          Research Software Project Management focus area Maturity model (RSMM)
          Score Calculator
        </h1>
        <p>
          This tool evaluates software maturity based on software engineering ,
          research software engineering and open-source best practices.
        </p>
        <p>
          We consider commit activity, contributors, licensing, testing, CI/CD,
          and more.
        </p>

        <!-- RSMM Image Section -->
        <div class="rsmm-image">
          <h3>RSMM</h3>
          <img src={% static 'img/Picture1_rsmm.png' %} alt="RSMM Process
          Visualization" />
          <br />
          <style>
            /* Fullscreen loading overlay */
            #loadingOverlay {
              display: none;
              position: fixed;
              top: 0;
              left: 0;
              width: 100%;
              height: 100%;
              background-color: rgba(255, 255, 255, 0.8);
              z-index: 9999;
              justify-content: center;
              align-items: center;
            }

            /* Spinner animation */
            .spinner {
              border: 6px solid #ddd;
              border-top: 6px solid #3498db;
              border-radius: 50%;
              width: 60px;
              height: 60px;
              animation: spin 1s linear infinite;
            }

            @keyframes spin {
              0% {
                transform: rotate(0deg);
              }
              100% {
                transform: rotate(360deg);
              }
            }

            /* Optional: Text below spinner */
            .loading-text {
              margin-top: 15px;
              font-size: 1.2em;
              color: #555;
            }
          </style>

          <form id="scoreForm" method="post" action="{% url 'check_score' %}">
            {% csrf_token %}
            <input
              type="text"
              name="repo_url"
              placeholder="Enter GitHub repository URL"
              required
            />
            <button type="submit" id="submitBtn">Check Score</button>
          </form>

          <!-- Loading Overlay -->
          <div id="loadingOverlay">
            <div style="text-align: center">
              <div class="spinner"></div>
              <div class="loading-text">Checking score... Please wait</div>
            </div>
          </div>

          <script>
            const form = document.getElementById("scoreForm");
            const overlay = document.getElementById("loadingOverlay");

            form.addEventListener("submit", function () {
              overlay.style.display = "flex"; // Show loading screen
            });
          </script>
        </div>
      </div>
    </div>
  </body>
</html>
